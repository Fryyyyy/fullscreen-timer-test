webpackJsonp([1],{15:function(t,e,o){"use strict";var s=o(4),i=o(61),r=o(58),n=o.n(r);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",name:"Main",component:n.a}]})},16:function(t,e,o){o(52);var s=o(13)(o(36),o(59),null,null);t.exports=s.exports},35:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(4),i=o(16),r=o.n(i),n=o(15);s.a.config.productionTip=!1,new s.a({el:"#app",router:n.a,render:function(t){return t(r.a)}})},36:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},37:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(38),i=o.n(s),r=o(56),n=o.n(r),a=o(63),c=(o.n(a),o(17));n.a.init(),e.default={name:"main",data:function(){return{title:"",token:this.$route.query.token||"",duration:0,hours:0,minutes:50,seconds:0,paused:!0,started:!1,edittoken:!1,reversed:!1,interval:void 0,resetHours:0,resetMinutes:50,resetSeconds:0}},filters:{padNumber:function(t){return t<10?"0"+t:t}},created:function(){this.token&&this.syncTimer()},methods:{editToken:function(){this.edittoken=!0},cancelEditToken:function(){this.edittoken=!1},submitEditToken:function(){this.edittoken=!1},updateToken:function(t){this.token=t.toString(),this.$forceUpdate()},syncTimer:function(){var t=new a.GetClockTimeRequest;t.setToken(this.token);var e=new TextDecoder("utf8"),o=btoa(e.decode(t.serializeBinary())),s=this;c.post("https://clock.mtgpairings.info/api/dev/gettime",o).then(function(t){n.a.success("Online time received");var e=a.GetClockTimeReply.deserializeBinary(t.data);s.title=e.getTitle(),s.hours=e.getHours(),s.minutes=e.getMinutes(),s.seconds=e.getSeconds(),s.calculateDuration(),s.reversed=e.getNegative(),e.getStatus()===a.StartClock.Status.RUNNING&&(s.started=!0,s.paused=!1,s.startInterval())})},startTimer:function(){this.started=!0,this.paused=!1,this.resetHours=this.hours,this.resetMinutes=this.minutes,this.resetSeconds=this.seconds,this.calculateDuration(),this.startInterval();var t=new a.StartClock;t.setToken(this.token),t.setHours(this.hours),t.setMinutes(this.minutes),t.setSeconds(this.seconds),t.setTitle(this.title);var e=new TextDecoder("utf8"),o=btoa(e.decode(t.serializeBinary()));c.post("https://clock.mtgpairings.info/api/dev/startclock",o).then(function(t){n.a.success("Token successfully linked")}).catch(function(t){n.a.error(t.response.data)})},pauseTimer:function(){this.paused=!0,this.stopInterval();var t=new a.StartClock;t.setToken(this.token),t.setStatus(a.StartClock.Status.STOPPED);var e=new TextDecoder("utf8"),o=btoa(e.decode(t.serializeBinary()));c.post("https://clock.mtgpairings.info/api/dev/startclock",o).then(function(t){n.a.success("Bot clock paused")}).catch(function(t){n.a.error(t.response.data)})},resumeTimer:function(){this.paused=!1,this.startInterval();var t=new a.StartClock;t.setToken(this.token),t.setStatus(a.StartClock.Status.RUNNING),t.setHours(this.hours),t.setMinutes(this.minutes),t.setSeconds(this.seconds),t.setNegative(this.reversed);var e=new TextDecoder("utf8"),o=btoa(e.decode(t.serializeBinary()));c.post("https://clock.mtgpairings.info/api/dev/startclock",o).then(function(t){n.a.success("Bot clock restarted")}).catch(function(t){n.a.error(t.response.data)})},resetTimer:function(){this.reversed=!1,this.started=!1,this.paused=!0,this.stopInterval(),this.hours=this.resetHours,this.minutes=this.resetMinutes,this.seconds=this.resetSeconds,this.duration=0;var t=new a.StartClock;t.setToken(this.token),t.setStatus(a.StartClock.Status.STOPPED),t.setHours(this.hours),t.setMinutes(this.minutes),t.setSeconds(this.seconds);var e=new TextDecoder("utf8"),o=btoa(e.decode(t.serializeBinary()));c.post("https://clock.mtgpairings.info/api/dev/startclock",o).then(function(t){n.a.success("Bot clock reset")}).catch(function(t){n.a.error(t.response.data)})},calculateDuration:function(){this.duration=3600*this.hours+60*this.minutes+this.seconds},setTime:function(t){this.hours=Math.floor(t/3600),this.minutes=Math.floor(t/60)%60,this.seconds=t%60},startInterval:function(){var t=this;this.interval=setInterval(function(){t.duration<=0&&(t.reversed=!0),t.reversed?t.duration+=1:t.duration-=1,t.setTime(t.duration)},1e3)},stopInterval:function(){window.clearInterval(this.interval)},updateValue:function(t,e){var o=Number(e);isNaN(o)||!i()(o)?o=this[t]:o>59&&"hours"!==t?o=this[t]:o<0&&"hours"!==t?o=this[t]:o>99&&"hours"===t&&(o=this[t]),this[t]=o,this.$forceUpdate()}}}},52:function(t,e){},53:function(t,e){},58:function(t,e,o){o(53);var s=o(13)(o(37),o(60),null,null);t.exports=s.exports},59:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("router-view")],1)},staticRenderFns:[]}},60:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-container"},[o("div",{staticClass:"title-container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{placeholder:"Edit title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"timer-container",class:{red:t.started&&!t.reversed&&t.duration<60,green:t.started&&t.reversed}},[t.started&&t.reversed?o("span",{staticClass:"sign"},[t._v("-")]):t._e(),t._v(" "),o("input",{staticClass:"input-timer hours",attrs:{disabled:t.started},domProps:{value:t._f("padNumber")(t.hours)},on:{input:function(e){t.updateValue("hours",e.target.value)}}}),t._v(" "),o("span",{staticClass:"separator"},[t._v(":")]),t._v(" "),o("input",{staticClass:"input-timer minutes",attrs:{disabled:t.started},domProps:{value:t._f("padNumber")(t.minutes)},on:{input:function(e){t.updateValue("minutes",e.target.value)}}}),t._v(" "),o("span",{staticClass:"separator"},[t._v(":")]),t._v(" "),o("input",{staticClass:"input-timer seconds",attrs:{disabled:t.started},domProps:{value:t._f("padNumber")(t.seconds)},on:{input:function(e){t.updateValue("seconds",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"bottom-container"},[o("div",{staticClass:"buttons-container",class:{hidden:t.started&&!t.paused}},[t.started?t._e():o("button",{on:{click:t.startTimer}},[t._v("Start")]),t._v(" "),t.started&&!t.paused?o("button",{on:{click:t.pauseTimer}},[t._v("Pause")]):t._e(),t._v(" "),t.started&&t.paused?o("button",{on:{click:t.resumeTimer}},[t._v("Resume")]):t._e(),t._v(" "),t.started?o("button",{on:{click:t.resetTimer}},[t._v("Reset")]):t._e(),t._v(" "),!t.started&&t.token?o("button",{on:{click:t.syncTimer}},[t._v("Sync from Online")]):t._e()]),t._v(" "),o("div",{staticClass:"token-buttons-container",class:{hidden:!t.edittoken}},[t.started||t.edittoken?t._e():o("button",{on:{click:t.editToken}},[t._v("Use Token")]),t._v(" "),t.edittoken?o("input",{staticClass:"input-token token",attrs:{placeholder:"Input CLOCKTOKEN"},domProps:{value:t.token},on:{input:function(e){t.updateToken(e.target.value)}}}):t._e(),t._v(" "),!t.started&&t.edittoken?o("button",{on:{click:t.submitEditToken}},[t._v("Submit")]):t._e(),t._v(" "),!t.started&&t.edittoken?o("button",{on:{click:t.cancelEditToken}},[t._v("Cancel")]):t._e()])])])},staticRenderFns:[]}},63:function(t,e,o){var s=o(54),i=s,r=Function("return this")();i.exportSymbol("proto.clock.GetClockTimeReply",null,r),i.exportSymbol("proto.clock.GetClockTimeReply.Status",null,r),i.exportSymbol("proto.clock.GetClockTimeRequest",null,r),i.exportSymbol("proto.clock.StartClock",null,r),i.exportSymbol("proto.clock.StartClock.Status",null,r),proto.clock.StartClock=function(t){s.Message.initialize(this,t,0,-1,null,null)},i.inherits(proto.clock.StartClock,s.Message),i.DEBUG&&!COMPILED&&(proto.clock.StartClock.displayName="proto.clock.StartClock"),s.Message.GENERATE_TO_OBJECT&&(proto.clock.StartClock.prototype.toObject=function(t){return proto.clock.StartClock.toObject(t,this)},proto.clock.StartClock.toObject=function(t,e){var o={token:s.Message.getFieldWithDefault(e,1,""),messagetimestamp:s.Message.getFieldWithDefault(e,2,""),hours:s.Message.getFieldWithDefault(e,3,0),minutes:s.Message.getFieldWithDefault(e,4,0),seconds:s.Message.getFieldWithDefault(e,5,0),title:s.Message.getFieldWithDefault(e,6,""),status:s.Message.getFieldWithDefault(e,7,0),negative:s.Message.getFieldWithDefault(e,8,!1)};return t&&(o.$jspbMessageInstance=e),o}),proto.clock.StartClock.deserializeBinary=function(t){var e=new s.BinaryReader(t),o=new proto.clock.StartClock;return proto.clock.StartClock.deserializeBinaryFromReader(o,e)},proto.clock.StartClock.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();){switch(e.getFieldNumber()){case 1:var o=e.readString();t.setToken(o);break;case 2:var o=e.readString();t.setMessagetimestamp(o);break;case 3:var o=e.readInt32();t.setHours(o);break;case 4:var o=e.readInt32();t.setMinutes(o);break;case 5:var o=e.readInt32();t.setSeconds(o);break;case 6:var o=e.readString();t.setTitle(o);break;case 7:var o=e.readEnum();t.setStatus(o);break;case 8:var o=e.readBool();t.setNegative(o);break;default:e.skipField()}}return t},proto.clock.StartClock.prototype.serializeBinary=function(){var t=new s.BinaryWriter;return proto.clock.StartClock.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.clock.StartClock.serializeBinaryToWriter=function(t,e){var o=void 0;o=t.getToken(),o.length>0&&e.writeString(1,o),o=t.getMessagetimestamp(),o.length>0&&e.writeString(2,o),o=t.getHours(),0!==o&&e.writeInt32(3,o),o=t.getMinutes(),0!==o&&e.writeInt32(4,o),o=t.getSeconds(),0!==o&&e.writeInt32(5,o),o=t.getTitle(),o.length>0&&e.writeString(6,o),o=t.getStatus(),0!==o&&e.writeEnum(7,o),(o=t.getNegative())&&e.writeBool(8,o)},proto.clock.StartClock.Status={UNKNOWN:0,RUNNING:1,STOPPED:2},proto.clock.StartClock.prototype.getToken=function(){return s.Message.getFieldWithDefault(this,1,"")},proto.clock.StartClock.prototype.setToken=function(t){s.Message.setField(this,1,t)},proto.clock.StartClock.prototype.getMessagetimestamp=function(){return s.Message.getFieldWithDefault(this,2,"")},proto.clock.StartClock.prototype.setMessagetimestamp=function(t){s.Message.setField(this,2,t)},proto.clock.StartClock.prototype.getHours=function(){return s.Message.getFieldWithDefault(this,3,0)},proto.clock.StartClock.prototype.setHours=function(t){s.Message.setField(this,3,t)},proto.clock.StartClock.prototype.getMinutes=function(){return s.Message.getFieldWithDefault(this,4,0)},proto.clock.StartClock.prototype.setMinutes=function(t){s.Message.setField(this,4,t)},proto.clock.StartClock.prototype.getSeconds=function(){return s.Message.getFieldWithDefault(this,5,0)},proto.clock.StartClock.prototype.setSeconds=function(t){s.Message.setField(this,5,t)},proto.clock.StartClock.prototype.getTitle=function(){return s.Message.getFieldWithDefault(this,6,"")},proto.clock.StartClock.prototype.setTitle=function(t){s.Message.setField(this,6,t)},proto.clock.StartClock.prototype.getStatus=function(){return s.Message.getFieldWithDefault(this,7,0)},proto.clock.StartClock.prototype.setStatus=function(t){s.Message.setField(this,7,t)},proto.clock.StartClock.prototype.getNegative=function(){return s.Message.getFieldWithDefault(this,8,!1)},proto.clock.StartClock.prototype.setNegative=function(t){s.Message.setField(this,8,t)},proto.clock.GetClockTimeRequest=function(t){s.Message.initialize(this,t,0,-1,null,null)},i.inherits(proto.clock.GetClockTimeRequest,s.Message),i.DEBUG&&!COMPILED&&(proto.clock.GetClockTimeRequest.displayName="proto.clock.GetClockTimeRequest"),s.Message.GENERATE_TO_OBJECT&&(proto.clock.GetClockTimeRequest.prototype.toObject=function(t){return proto.clock.GetClockTimeRequest.toObject(t,this)},proto.clock.GetClockTimeRequest.toObject=function(t,e){var o={token:s.Message.getFieldWithDefault(e,1,"")};return t&&(o.$jspbMessageInstance=e),o}),proto.clock.GetClockTimeRequest.deserializeBinary=function(t){var e=new s.BinaryReader(t),o=new proto.clock.GetClockTimeRequest;return proto.clock.GetClockTimeRequest.deserializeBinaryFromReader(o,e)},proto.clock.GetClockTimeRequest.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();){switch(e.getFieldNumber()){case 1:var o=e.readString();t.setToken(o);break;default:e.skipField()}}return t},proto.clock.GetClockTimeRequest.prototype.serializeBinary=function(){var t=new s.BinaryWriter;return proto.clock.GetClockTimeRequest.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.clock.GetClockTimeRequest.serializeBinaryToWriter=function(t,e){var o=void 0;o=t.getToken(),o.length>0&&e.writeString(1,o)},proto.clock.GetClockTimeRequest.prototype.getToken=function(){return s.Message.getFieldWithDefault(this,1,"")},proto.clock.GetClockTimeRequest.prototype.setToken=function(t){s.Message.setField(this,1,t)},proto.clock.GetClockTimeReply=function(t){s.Message.initialize(this,t,0,-1,null,null)},i.inherits(proto.clock.GetClockTimeReply,s.Message),i.DEBUG&&!COMPILED&&(proto.clock.GetClockTimeReply.displayName="proto.clock.GetClockTimeReply"),s.Message.GENERATE_TO_OBJECT&&(proto.clock.GetClockTimeReply.prototype.toObject=function(t){return proto.clock.GetClockTimeReply.toObject(t,this)},proto.clock.GetClockTimeReply.toObject=function(t,e){var o={hours:s.Message.getFieldWithDefault(e,1,0),minutes:s.Message.getFieldWithDefault(e,2,0),seconds:s.Message.getFieldWithDefault(e,3,0),title:s.Message.getFieldWithDefault(e,4,""),status:s.Message.getFieldWithDefault(e,5,0),negative:s.Message.getFieldWithDefault(e,6,!1)};return t&&(o.$jspbMessageInstance=e),o}),proto.clock.GetClockTimeReply.deserializeBinary=function(t){var e=new s.BinaryReader(t),o=new proto.clock.GetClockTimeReply;return proto.clock.GetClockTimeReply.deserializeBinaryFromReader(o,e)},proto.clock.GetClockTimeReply.deserializeBinaryFromReader=function(t,e){for(;e.nextField()&&!e.isEndGroup();){switch(e.getFieldNumber()){case 1:var o=e.readInt32();t.setHours(o);break;case 2:var o=e.readInt32();t.setMinutes(o);break;case 3:var o=e.readInt32();t.setSeconds(o);break;case 4:var o=e.readString();t.setTitle(o);break;case 5:var o=e.readEnum();t.setStatus(o);break;case 6:var o=e.readBool();t.setNegative(o);break;default:e.skipField()}}return t},proto.clock.GetClockTimeReply.prototype.serializeBinary=function(){var t=new s.BinaryWriter;return proto.clock.GetClockTimeReply.serializeBinaryToWriter(this,t),t.getResultBuffer()},proto.clock.GetClockTimeReply.serializeBinaryToWriter=function(t,e){var o=void 0;o=t.getHours(),0!==o&&e.writeInt32(1,o),o=t.getMinutes(),0!==o&&e.writeInt32(2,o),o=t.getSeconds(),0!==o&&e.writeInt32(3,o),o=t.getTitle(),o.length>0&&e.writeString(4,o),o=t.getStatus(),0!==o&&e.writeEnum(5,o),(o=t.getNegative())&&e.writeBool(6,o)},proto.clock.GetClockTimeReply.Status={UNKNOWN:0,RUNNING:1,STOPPED:2},proto.clock.GetClockTimeReply.prototype.getHours=function(){return s.Message.getFieldWithDefault(this,1,0)},proto.clock.GetClockTimeReply.prototype.setHours=function(t){s.Message.setField(this,1,t)},proto.clock.GetClockTimeReply.prototype.getMinutes=function(){return s.Message.getFieldWithDefault(this,2,0)},proto.clock.GetClockTimeReply.prototype.setMinutes=function(t){s.Message.setField(this,2,t)},proto.clock.GetClockTimeReply.prototype.getSeconds=function(){return s.Message.getFieldWithDefault(this,3,0)},proto.clock.GetClockTimeReply.prototype.setSeconds=function(t){s.Message.setField(this,3,t)},proto.clock.GetClockTimeReply.prototype.getTitle=function(){return s.Message.getFieldWithDefault(this,4,"")},proto.clock.GetClockTimeReply.prototype.setTitle=function(t){s.Message.setField(this,4,t)},proto.clock.GetClockTimeReply.prototype.getStatus=function(){return s.Message.getFieldWithDefault(this,5,0)},proto.clock.GetClockTimeReply.prototype.setStatus=function(t){s.Message.setField(this,5,t)},proto.clock.GetClockTimeReply.prototype.getNegative=function(){return s.Message.getFieldWithDefault(this,6,!1)},proto.clock.GetClockTimeReply.prototype.setNegative=function(t){s.Message.setField(this,6,t)},i.object.extend(e,proto.clock)}},[35]);
//# sourceMappingURL=app.4e27500c3e6e1cf416db.js.map